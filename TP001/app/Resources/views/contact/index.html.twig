{% extends 'blank.html.twig' %}
{% block title %}Listes des Contacts{% endblock %}

{% block body %}

    <h3>Liste des Messages</h3>

    <a href="{{ url('app.contact.form') }}"><i class="material-icons">add</i></a>

    {% for notice in app.session.flashbag.get('notice') %}
        <p class="card-panel teal lighten-5">{{ notice }}</p>
    {% endfor %}

    <table class="table striped">
        <tr>
            <th>First name</th>
            <th>Last name</th>
            <th>Email</th>
            <th>Subject</th>
            <th>Message</th>
            <th></th>
        </tr>
        {% for key, contact in contacts %}
            <tr>
                <td>{{ contact.firstName | capitalize }}</td>
                <td>{{ contact.lastName | capitalize }}</td>
                <td>{{ contact.email }}</td>
                <td>
                    {{ contact.subject.content | upper }}
                </td>
                <td>{{ contact.message }}</td>
                <td>
                    <a href="{{ url('app.contact.update', { 'id' : contact.id }) }}">
                        <i class="material-icons">edit</i>
                    </a>
                    <a href="{{ url('app.contact.delete', { 'id' : contact.id }) }}">
                        <i class="material-icons">delete</i>
                    </a>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}